<!doctype html>
<title>SageSchedule.</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"/>
<div class='flex flex-wrap flex-col overflow-hidden'>
    <!-- <nav>
        <h1 class="font-bold text-6xl">Courses</h1>
    </nav> -->
    <div class="p-8"> <!-- Div with search box -->
        <form action="{{ url_for('search') }}">
            <div class="bg-white flex items-center rounded-full shadow-md w-1/2">
            <input class="rounded-l-full w-full py-4 px-6 text-gray-700 leading-tight
                            focus:outline-none" id="search" type="text" placeholder="Search..." 
                            name="q">
                <div class="p-4">
                    <button class="bg-pink-600 text-white rounded-full p-2 hover:bg-pink-300
                        focus:outline-none w-12 h-12 flex items-center justify-center"
                    type="submit">
                        구하다
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div class='flex flex-row overflow-hidden gap-2'> <!-- div below search, side by side search results and schedule -->
        {% if courses is not none %} <!-- Course search results, if it exists -->
        <div class="flex-wrap w-1/2">
            <table class="rounded-lg rounded-b-lg m-5 w-5/6 mx-auto text-pink-100 bg-pink-700">
                <thead class="flex w-full">
                    <tr class="text-left font-bold border-b-2 border-pink-200 flex w-full">
                    <td class="px-4 py-3 w-1/8"></td>
                    <th class="px-4 py-3 w-1/3">Course Number</th>
                    <th class="px-4 py-3 w-1/3">Course Name</th>
                    <th class="px-4 py-3 w-1/3">Area</th>
                    </tr>
                </thead>
                <!-- each row -->
                <tbody class='overflow-y-auto flex flex-col w-full' style="height: 75vh">
                {% for index, course in courses.iterrows() %}
                <tr class="bg-pink-600 font-semibold w-full flex">
                    <td class="px-4 py-3 border-b border-pink-500 w-1/8">
                        <button class="bg-transparent hover:text-pink-600 hover:bg-white font-semibold
                        py-2 px-4 border border-white text-white rounded-full"
                            style="padding:0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                        </button>
                    </td>
                    <td class="px-4 py-3 border-b border-pink-500 w-1/3">{{course[0]}}</td>
                    <td class="px-4 py-3 border-b border-pink-500 w-1/3">{{course[1]}}</td>
                    <td class="px-4 py-3 border-b border-pink-500 w-1/3">{{course[2]}}</td>
                </tr>    
                {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        <div class="w-1/2 flex justify-center items-center">
            {% set year = session['school_year'] %}
            <div class="grid grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-y-10 w-5/6 mx-auto">
            {% for i in range(session['semesters']) %}
            <div class="rounded bg-blue-200 w-5/6 p-2">
                <div class="flex justify-between py-1 px">
                    <h3 class="text-sm font-bold">
                        {{ 'FA' if not i % 2 else 'SP' }} '{{ (year + i/2) | round(0, 'ceil') |int }}
                    </h3>
                </div>
                <div class="text-sm mt-2">
                    <div class="bg-white p-2 rounded mt-1 border-b border-grey cursor-pointer hover:bg-grey-lighter">
                        CS101
                  </div>
                  
                <div class="bg-white p-2 rounded mt-1 border-b border-grey cursor-pointer hover:bg-grey-lighter">
                        CS140
                  </div>
                  
                    <div class="bg-white p-2 rounded mt-1 border-b border-grey cursor-pointer hover:bg-grey-lighter">
                        CS105
                  </div>
                  <p class="mt-3 text-grey-dark">Add a course...</p>
                </div>
            </div>
            {% endfor %}
            </div>
        </div>
    </div>
</div>